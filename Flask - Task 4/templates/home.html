<!DOCTYPE html>
<html>
<head>
    <title>URL Shortener</title>

    <!-- Bootstrap CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body{
            min-height:100vh;
            background: linear-gradient(135deg,#667eea,#764ba2);
            display:flex;
            align-items:center;
            justify-content:center;
            font-family: "Segoe UI", sans-serif;
        }

        .card-box{
            width:100%;
            max-width:550px;
            background:white;
            padding:35px;
            border-radius:18px;
            box-shadow:0 10px 30px rgba(0,0,0,0.25);
        }

        h3{
            text-align:center;
            font-weight:600;
            margin-bottom:25px;
        }

        input{
            padding:12px;
            font-size:16px;
        }

        .btn-primary{
            background:#667eea;
            border:none;
        }

        .btn-primary:hover{
            background:#5a6fdc;
        }

        .btn-success{
            background:#28a745;
            border:none;
        }

        .history-link{
            text-align:center;
            display:block;
            margin-top:20px;
            text-decoration:none;
            color:#667eea;
            font-weight:500;
        }

        .history-link:hover{
            text-decoration:underline;
        }
    </style>
</head>

<body>

<div class="card-box">

    <h3>ðŸ”— URL Shortener</h3>

    <form method="POST">
        <input type="text" name="url"
               class="form-control"
               placeholder="Paste your long URL here..."
               required>

        <button class="btn btn-primary w-100 mt-3">
            Shorten URL
        </button>
    </form>

    {% if error %}
        <div class="alert alert-danger mt-3">
            {{ error }}
        </div>
    {% endif %}

    {% if short_url %}
        <div class="alert alert-success mt-3">

            <label class="form-label">Shortened URL</label>

            <input type="text" id="shortUrl"
                   class="form-control mb-2"
                   value="{{ short_url }}" readonly>

            <button class="btn btn-success w-100"
                    onclick="copyToClipboard()">
                Copy to Clipboard
            </button>

        </div>
    {% endif %}

    <a href="/history" class="history-link">
        ðŸ“œ View History
    </a>

</div>

<script>
function copyToClipboard() {
    const text = document.getElementById("shortUrl");
    text.select();
    navigator.clipboard.writeText(text.value);
    alert("Short URL copied!");
}
</script>

</body>
</html>
